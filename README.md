# tg-parse_test

tg-parse_test ‚Äî —Ç–µ–ª–µ–≥—Ä–∞–º‚Äë–±–æ—Ç –Ω–∞ Python, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π —Å–±–æ—Ä –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –∏ —Ä–∞—Å—Å—ã–ª–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –∏ –∫–Ω–æ–ø–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.

# ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telethon: –≤–≤–æ–¥ api_id, api_hash, phone_number, password (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞ 2FA).

–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç (/profile): –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤–∞—à–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –∫–Ω–æ–ø–∫–∏:

"–ü–∞—Ä—Å–∏—Ç—å" ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–±–æ—Ä –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤.

"–†–∞—Å—Å—ã–ª–∫–∞" ‚Äî –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç —Ä–∞—Å—Å—ã–ª–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π.

"–û—á–∏—Å—Ç–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö" - –æ—á–∏—â–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ–± –Ω–µ –∑–∞—Å–æ—Ä—è—Ç—å


# –ü–∞—Ä—Å–∏–Ω–≥ (/parse):

–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏–ª–∏ –≤–≤–µ—Å—Ç–∏ –Ω–æ–≤—ã–π.

–°–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏–∑ –∫–∞–Ω–∞–ª–æ–≤/–≥—Ä—É–ø–ø.

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ users.db.

# –†–∞—Å—Å—ã–ª–∫–∞ (/sender):

–í—ã–±–æ—Ä: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏–ª–∏ –≤–≤–µ—Å—Ç–∏ –Ω–æ–≤—ã–π.

–í—ã–±–æ—Ä –±–∞–∑—ã –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏:

–õ–æ–∫–∞–ª—å–Ω–∞—è users.db (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞).

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –±–∞–∑–∞: —Ç—Ä–µ–±—É–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ .db —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (—Ç–∞–±–ª–∏—Ü–∞ users_data —Å –∫–æ–ª–æ–Ω–∫–æ–π user_id).

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

Aiogram ‚Äî –¥–ª—è –ª–æ–≥–∏–∫–∏ Telegram‚Äë–±–æ—Ç–∞.

Telethon ‚Äî –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram API.

# üß∞ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

.
‚îú‚îÄ‚îÄ bot/

‚îÇ   ‚îú‚îÄ‚îÄ bot.py              # –¢–æ—á–∫–∞ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞

‚îÇ   ‚îú‚îÄ‚îÄ profile_handler.py  # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è /profile –∏ –∫–Ω–æ–ø–æ–∫

‚îÇ   ‚îú‚îÄ‚îÄ handlers_parse.py   # –õ–æ–≥–∏–∫–∞ –∫–æ–º–∞–Ω–¥—ã /parse

‚îÇ   ‚îî‚îÄ‚îÄ handlers_sender.py  # –õ–æ–≥–∏–∫–∞ –∫–æ–º–∞–Ω–¥—ã /sender

‚îú‚îÄ‚îÄ core/

‚îÇ   ‚îú‚îÄ‚îÄ client.py           # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telethon

‚îÇ   ‚îî‚îÄ‚îÄ controller.py       # –§—É–Ω–∫—Ü–∏–∏ run_parser –∏ run_sender


‚îú‚îÄ‚îÄ services/

‚îÇ   ‚îî‚îÄ‚îÄ bd_operations.py    # –ö–ª–∞—Å—Å BaseData –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å SQLite

‚îú‚îÄ‚îÄ utils/

‚îÇ   ‚îî‚îÄ‚îÄ load_auth_data.py   # –†–∞–±–æ—Ç–∞ —Å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

‚îú‚îÄ‚îÄ users.db                # –õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

‚îú‚îÄ‚îÄ requirements.txt

‚îî‚îÄ‚îÄ README.md

# üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

–ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/krasilovalex/tg-parse_test.git
cd tg-parse_test
```
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```
–ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞:
```bash
python -m bot.bot
```
# üí° –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥

/start ‚Äî —Å—Ç–∞—Ä—Ç–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞, –¥–∞–ª–µ–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç `api_id`, `api_hash`, `phone`, `password` –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö.

/profile ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏ –∫–Ω–æ–ø–∫–∏:

–ü–∞—Ä—Å–∏—Ç—å ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç /parse.

–†–∞—Å—Å—ã–ª–∫–∞ ‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç /sender.

/parse ‚Äî —Å–±–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏–ª–∏ –≤–≤–µ—Å—Ç–∏ –Ω–æ–≤—ã–π. –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–æ–∑–¥–∞—ë—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `users.db`.

/sender ‚Äî —Ä–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å:

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏–ª–∏ –≤–≤–µ—Å—Ç–∏ –Ω–æ–≤—ã–π.

–í—ã–±—Ä–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫ –±–∞–∑—ã: –ª–æ–∫–∞–ª—å–Ω—ã–π `users.db` –∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ñ–∞–π–ª —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

–í–≤–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏.

‚úÖ –ß–µ–∫‚Äë–ª–∏—Å—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Telethon —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

‚úÖ –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å –∫–Ω–æ–ø–∫–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —Å –≤—ã–±–æ—Ä–æ–º –∞–∫–∫–∞—É–Ω—Ç–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –±–∞–∑—ã.

‚úÖ –†–∞—Å—Å—ã–ª–∫–∞ —Å –≤—ã–±–æ—Ä–æ–º –∞–∫–∫–∞—É–Ω—Ç–∞, –≤—ã–±–æ—Ä–æ–º –±–∞–∑—ã (–ª–æ–∫–∞–ª—å–Ω–æ–π –∏–ª–∏ –∑–∞–≥—Ä—É–∂–∞–µ–º–æ–π) –∏ –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏ –ø—Ä–∏ —Ä–∞—Å—Å—ã–ª–∫–µ, –æ–±—Ä–∞–±–æ—Ç–∫–∞ FloodWait –∏ –æ—à–∏–±–æ–∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏.

# üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

.env —Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–∏—à—å –¥–ª—è BOT_TOKEN: –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–æ—Ç–∞.

–ë–∞–∑–∞ users.db —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –±–∞–∑–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª .db, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏.

# üß© –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

aiogram ‚Äî –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Telegram‚Äë–±–æ—Ç–æ–≤.

telethon ‚Äî —Ä–∞–±–æ—Ç–∞ —Å Telegram API.

sqlite3 ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤.

# –û—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à —Ñ–∏–¥–±–µ–∫ –∏ –ø–æ–∂–µ–ª–∞–Ω–∏—è ‚Äî –±—É–¥—É —Ä–∞–¥ —É–ª—É—á—à–∏—Ç—å!
